{%- comment -%}
  This is a required section for the Shopify Theme Store.
  It is available when you add the "Image with text" section in the theme editor.

  Theme Store required settings
  - Image
  - Heading: title of the block
  - Text: description of the block

  Theme Store optional settings
  - Button label: label associated with the button
  - Button link: link of the button
{%- endcomment -%}
<div class="flex flex-wrap -my-2 -mx-2 relative">
    {% for block in section.blocks limit: 10 %}
        {% assign article = articles[block.settings.article] %}
        <!-- Blog 1 -->
        <div class="w-full md:w-1/2 lg:w-{{ block.settings.width }} h-80 px-2 my-2 relative">
            {% if article.image.size > 1 %}
                <img class="z-0 object-cover h-80 w-full" src="{{ article.image | img_url: '352x' }}" alt="">
            {% else %}
                <div class="h-80 w-full bg-gray-400"></div>
            {% endif %}
            <a href="{{ article.url }}">
                <div class="flex flex-col absolute inset-0 text-white  px-10 pt-8 w-full h-full">
                    <span class="uppercase font-montserrat font-sm font-bold tracking-wider">{{ article.tags | join : " | " | truncate: 25, '...' }}</span>

                    <div class="flex flex-col justify-end h-full w-full pb-8">
                        <div class="w-3/4">
                            <!-- Article Title -->
                            <h3 class="text-white leading-normal">{{ article.title | truncate: 30, '...' }}</h3>

                            <!-- Article Excerpt or Content  -->
                            <p class="p-reset mt-2 text-white">{{ article.excerpt_or_content | strip_html | truncate: 70, '...' }}</p>
                        </div>

                        <div class="flex flex-wrap pt-6 w-full justify-between border-t mt-6">
                            {% if article.comments_enabled? %}
                            <div class="flex flex-wrap items-center">
                                <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M15 14H9.33L6 17.33V18H5v-4H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3zm2-11a2.006 2.006 0 0 0-2-2H3a2.006 2.006 0 0 0-2 2v8a2.006 2.006 0 0 0 2 2h3v2.67L8.67 13H15a2.006 2.006 0 0 0 2-2V3z"
                                        fill="#FFF" fill-rule="nonzero" opacity=".7" />
                                </svg>
                                <span class="ml-2">{{ article.comments_count }}</span>
                            </div>
                            {% endif %}

                            <div class="flex flex-wrap items-center">
                                <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M9 18A9 9 0 1 1 9 0a9 9 0 0 1 0 18zM9 .99a8.01 8.01 0 1 0 0 16.02A8.01 8.01 0 0 0 9 .99zM14 10H8V4h1v5h5v1z"
                                        fill="#FFF" fill-rule="nonzero" opacity=".7" /></svg>
                                <span class="ml-2">10 mins ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <!-- Blog 1 End -->
    {% endfor %}
</div>

{% schema %}
{
    "blocks": [
    {
        "type": "bloglisttop",
        "name": "Blog List (Top)",
        "limit": 10,
        "settings": [
            {
                "type": "select",
                "id": "width",
                "label": "Box Width",
                "default":   "1/3",
                "options": [
                    {
                        "value": "1/4",
                        "label": "1/4"
                    },
                    {
                        "value": "1/3",
                        "label": "1/3"
                    },
                    {
                        "value": "1/2",
                        "label": "1/2"
                    },
                    {
                        "value": "2/3",
                        "label": "2/3"
                    },
                    {
                        "value": "3/4",
                        "label": "3/4"
                    },
                    {
                        "value": "full",
                        "label": "full"
                    }
                ]
            },
            {
                "type": "article",
                "id": "article",
                "label": "Select News"
            } //end blog
        ] //end settings
        
    } //end blocks curly
    
    ] //end blocks array,
}
{% endschema %}
    