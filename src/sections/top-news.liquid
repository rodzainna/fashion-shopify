{%- comment -%}
  This is a required section for the Shopify Theme Store.
  It is available when you add the "Image with text" section in the theme editor.

  Theme Store required settings
  - Image
  - Heading: title of the block
  - Text: description of the block

  Theme Store optional settings
  - Button label: label associated with the button
  - Button link: link of the button
{%- endcomment -%}
{% if section.blocks %}
<div class="w-full px-2 py-2">
    <div class="flex flex-wrap border border-gray-200 p-6">
        <div class="flex flex-no-wrap items-center justify-between w-full">
            <span class="font-montserrat font-bold text-sm tracking-widest uppercase">Top News</span>

            <div class="flex flex-wrap -mx-1">
                <div id="top-news-prev" class="mx-1">
                    <svg class="cursor-pointer" width="27" height="8" xmlns="http://www.w3.org/2000/svg">
                        <path d="M26.991 2.987v2.015H5.011v3.024L0 3.99 5.013 0v2.98z" fill="#999"
                            fill-rule="evenodd" /></svg>
                </div>
                <div id="top-news-next" class="mx-1">
                    <svg class="cursor-pointer" width="26" height="8" xmlns="http://www.w3.org/2000/svg">
                        <path d="M.346 2.987v2.015h20.657v3.024l5.01-4.035L21.001 0v2.98z" fill="#999"
                            fill-rule="evenodd" /></svg>
                </div>
            </div>
        </div>

        <div id="top-news" class="mt-4 w-full -mx-4 left-align-slick">
            {% for block in section.blocks limit: 10 %}
                {% assign article = articles[block.settings.article] %}
            
                {% if article.title %}
                    
                    <!-- Top News 1 -->
                    <div class="w-full md:w-1/3 px-4">
                        <a href="{{ article.url }}">
                            <div class="flex">
                                {% if article.image.size > 1 %}
                                    <img class="object-cover h-24 w-32" src="{{ article.image | img_url: '120x100' }}" alt="">
                                {% else %}
                                    <div class="bg-gray-200 h-24 w-32"></div>
                                {% endif %}
                                <div class="ml-4 -mt-1">
                                    <span class="font-lato text-sm text-gray-400">{{ article.created_at | date: "%b %d, %I:%M %p" }}</span>
                                       
                                    {% if article.title %}
                                        <h5 class="font-unna font-bold text-xl leading-snug">{{ article.title | truncate: 30, '...' }}</h5>
                                    {% endif %}
                
                                   
                                    <div class="flex flex-no-wrap mt-2 -mx-2 absolute bottom-5">
                                         
                                        {% if article.comments_enabled? %}
                                        <!-- Comments -->
                                        <div class="flex flex-no-wrap items-center mx-2">
                                            <svg width="15" height="14" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M12 11H8l-2 2v1H4v-3H3c-1.473 0-3-.75-3-2.22V2.67A2.664 2.664 0 0 1 2.667 0h9.666A2.665 2.665 0 0 1 15 2.67v6.11c0 1.47-1.527 2.22-3 2.22z"
                                                    fill="#E5E5E5" fill-rule="nonzero" /></svg>
                                            <span class="ml-2 text-sm text-gray-300">{{ article.comments_count }}</span>
                                        </div>
                                        <!-- End Comments -->
                                        {% endif %}

                                        <!-- Number of Views -->
                                        <div class="flex flex-no-wrap items-center mx-2">
                                            <svg width="16" height="12" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M15.71 5.34c.35.371.348.95-.003 1.32l-2.85 3.08a6.391 6.391 0 0 1-9.753 0L.261 6.66a.964.964 0 0 1 0-1.32 536.32 536.32 0 0 1 3.285-3.56l.02-.02a6.423 6.423 0 0 1 8.834 0l.02.02c.12.11 2.22 2.4 3.29 3.56zM8 4a2 2 0 1 0 .02 4A2 2 0 0 0 8 4z"
                                                    fill="#E5E5E5" fill-rule="nonzero" /></svg>
                                            <span class="ml-2 text-sm text-gray-300">3114</span>
                                        </div>
                                        <!-- End Number of Views -->
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    <!-- Top News 1 End -->
                {% endif %}
            {% endfor %}
        </div>
    </div>
</div>
{% endif %}

{% schema %}
{
    "blocks": [
    {
        "type": "topnews",
        "name": "Top News",
        "limit": 10,
        "settings": [
            {
            "type": "article",
            "id": "article",
            "label": "Select News"
            } //end blog
        ] //end settings
        
    } //end blocks curly
    
    ] //end blocks array,
}
{% endschema %}
    